<!DOCTYPE html>
<html>

<head>
    <meta name="renderer" content="webkit" />
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="description" content="Add multi-touch gestures to your webpage.">
	<title>VJ test</title>
	<script src="../../../2.0/ref/jquery-1.8.0.min.js" type="text/javascript"></script>
	<script src="../../../2.0/VJ.js" type="text/javascript"></script>
	<script src="config.js" type="text/javascript"></script>
	<script src="../../../ni.js" type="text/javascript"></script>
	<style type="text/css">
		.animate {
			transition: all 0.3s;
			-webkit-animation-timing-function: ease;
		}
	</style>
	<script type="text/javascript">
		(function(V,M,$,cm,W){
			new function(){
				var _=this,__={};
				{
					cm = V.merge(cm,{
						Middler:{
							'VESH.view':{											
								editor:{path:'../texteditor/xhtml.js;../texteditor/htmlbox.js;../texteditor/texteditor.js',params:["",{data:{debug:true}}]}
							}
						}
					});
					V.isDebug = true;
					V.inherit.apply(_,[M.Page,[cm,{
                        editor:{
						data:{width:'100%',height:'600px',skin:'red',language:'zh-cn',init:true,desc:true},
						onLoad:function(D,I){	
						//console.log(I);
						},
						getHtml(){
						console.log(this);
						   return this.v.node.get_html();
						}
						},
						page:{
							data:{
								title:'editor'
							},
							onStart:function(D,I){
								//V.tryC(function(){I.v.middler.getObjectByAppName('VESH.view','map')});								
								V.callEvent('test.resize',[{width:V.userAgent.width,height:V.userAgent.height}]);
								setTimeout(function(){console.log(I.v.vms.editor.getHtml());},5000);
							},
							onSize:function(D,I){
								console.log('resize');
								V.callEvent('test.resize',[{width:D.width,height:D.height}]);
							}			
						}
					}]]);
				}
			};
		})(VJ,VJ.viewmodel,jQuery,window.top.config,VJ.view);
	</script>
</head>

<body>
	<editor _="" id="editor" ></editor>
</body>

</html>